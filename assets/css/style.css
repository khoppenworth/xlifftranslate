/* Base */
*{box-sizing:border-box}
:root{
  --bg:#f5f7fb; --card:#ffffff; --ink:#0b1220; --muted:#61718a;
  --primary:#2563eb; --primary-ink:#fff; --border:#e7eef7; --table-head:#f6f9fc;
  --shadow:0 8px 24px rgba(15,23,42,.06); --radius:14px;
}
body.theme-dark{
  --bg:#0b1220; --card:#0f172a; --ink:#e6edf7; --muted:#94a3b8;
  --primary:#60a5fa; --primary-ink:#0b1220; --border:#1f2a44; --table-head:#0c1530;
  --shadow:0 8px 24px rgba(2,6,23,.4);
}
html,body{height:100%}
body{margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--ink);}

/* Layout */
.container{max-width:1120px;margin:0 auto;padding:0 20px}
.site-header{background:var(--card);border-bottom:1px solid var(--border)}
.site-header .container{display:flex;align-items:center;justify-content:space-between;height:64px}
.brand{font-weight:700;letter-spacing:.2px}
.site-header a,.site-header .button{color:var(--muted);text-decoration:none;margin-left:12px}
main{padding:24px 0}

/* Cards */
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:16px 16px 18px;margin:16px 0;box-shadow:var(--shadow)}
.card.center{max-width:420px;margin:60px auto}
.brand-lg{font-size:22px;margin:0 0 12px;text-align:center}

/* Alerts */
.alert{padding:10px 12px;border-radius:12px;margin:12px 0;border:1px solid}
.alert-error{background:rgba(255,91,91,.12);border-color:#ffbdbd;color:#ffbdbd}
.alert-info{background:rgba(56,149,255,.12);border-color:#cfe4ff;color:#9ac2ff}
body.theme-dark .alert-error{color:#ff9b9b}
body.theme-dark .alert-info{color:#a9c9ff}

/* Controls */
.controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin:6px 0 8px}
.controls input, .controls select{padding:8px 10px;border:1px solid var(--border);border-radius:10px;min-width:140px;background:var(--card);color:var(--ink)}
.muted{color:var(--muted);font-size:12px}
.pager{display:flex;align-items:center;gap:8px}

/* Toolbar */
.toolbar{display:flex;align-items:center;justify-content:space-between;background:var(--card);border:1px solid var(--border);border-radius:12px;padding:8px 10px;margin:10px 0}

/* Buttons */
.button,button,.primary,.secondary{border:1px solid var(--border);background:var(--card);color:var(--ink);padding:8px 12px;border-radius:10px;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;gap:6px}
.primary{background:var(--primary);border-color:var(--primary);color:var(--primary-ink)}
.secondary{background:rgba(96,165,250,.15)}
button:disabled{opacity:.6;cursor:not-allowed}
.w100{width:100%}
.btn-file{border:1px dashed var(--border);padding:6px 10px;border-radius:10px;cursor:pointer}
.btn-file input{display:none}

/* Table */
.table-wrap{overflow:auto;border:1px solid var(--border);border-radius:12px}
table.grid{width:100%;border-collapse:collapse;font-size:14px;table-layout:fixed}
table.grid thead th{position:sticky;top:0;background:var(--table-head);border-bottom:1px solid var(--border);padding:10px;text-align:left}
table.grid td{border-bottom:1px solid var(--border);padding:8px;vertical-align:top;overflow-wrap:anywhere}
tbody tr:hover{background:rgba(100,116,139,.08)}
tbody tr:nth-child(even){background:transparent}
td.mono{font-family:ui-monospace,Consolas,Menlo,monospace;white-space:pre-wrap}
td.idcell{color:var(--muted)}
textarea{width:100%;padding:8px;border:1px solid var(--border);border-radius:10px;background:var(--card);color:var(--ink);min-height:44px}

/* Column resizer */
.col-resizer{background:transparent}
.col-resizer:hover{background:rgba(100,116,139,.2)}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(2,6,23,.5);display:flex;align-items:center;justify-content:center;padding:20px;z-index:40}
.modal[hidden]{display:none}
.modal-content{background:var(--card);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:14px;max-width:720px;width:100%}
.modal-content h3{margin:6px 2px 10px}
.modal-actions{display:flex;gap:8px;justify-content:flex-end}
#clipArea{border:1px solid var(--border);border-radius:10px;padding:8px;width:100%;background:var(--card);color:var(--ink)}

.wrap.narrow{max-width:460px;margin:40px auto;padding:0 16px}
